"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useExpandable = void 0;
var _react = require("react");
const useExpandable = _ref => {
  let {
    defaultExpanded,
    onExpandedChange
  } = _ref;
  const [expandedNodes, setExpandedNodes] = (0, _react.useState)(defaultExpanded ?? []);
  (0, _react.useEffect)(() => {
    if (defaultExpanded) {
      setExpandedNodes(defaultExpanded);
    }
  }, [defaultExpanded]);
  (0, _react.useEffect)(() => {
    if (typeof onExpandedChange === 'function') {
      onExpandedChange(expandedNodes);
    }
  }, [expandedNodes, onExpandedChange]);
  const onExpand = nodeId => {
    setExpandedNodes([...expandedNodes, nodeId]);
  };
  const onCollapse = nodeId => {
    setExpandedNodes(prevNodes => prevNodes.filter(node => node !== nodeId));
  };
  const onToggle = (nodeId, isExpanded) => {
    if (isExpanded) {
      onCollapse(nodeId);
    } else {
      onExpand(nodeId);
    }
  };
  return {
    expandedNodes,
    onToggle
  };
};
exports.useExpandable = useExpandable;